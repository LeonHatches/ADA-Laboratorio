from graph import GraphLink

def get_graph():
    g = GraphLink()

    # Puntos que hacen el mapa
    for i in range(1, 87):
        g.insert_vertex(i)

    # Aristas que conectan para formar el mapa
    for i in range(1, 86):
        g.insert_edge(i, i+1, 1)  
    g.insert_edge(86, 1, 1)

    return g

def get_posiciones():
    posiciones = {
        1: (677, 205),
        2: (749, 257),
        3: (769, 302),
        4: (835, 336),
        5: (845, 373),
        6: (878, 379),
        7: (882, 422),
        8: (938, 442),
        9: (994, 432),
        10: (1020, 412),
        11: (1059, 432),
        12: (1098, 422),
        13: (1175, 466),
        14: (1113, 563),
        15: (1155, 573),
        16: (1185, 616),
        17: (1123, 601),
        18: (1079, 626),
        19: (989, 642),
        20: (902, 697),
        21: (869, 786),
        22: (873, 829),
        23: (817, 871),
        24: (792, 927),
        25: (889, 1080),
        26: (873, 1110),
        27: (956, 1120),
        28: (966, 1167),
        29: (1050, 1167),
        30: (1123, 1120),
        31: (1123, 1265),
        32: (1164, 1272),
        33: (1214, 1265),
        34: (1296, 1410),
        35: (1269, 1463),
        36: (1264, 1527),
        37: (1279, 1573),
        38: (1228, 1648),
        39: (1254, 1678),
        40: (1231, 1721),
        41: (1274, 1779),
        42: (1203, 1872),
        43: (1218, 1897),
        44: (1193, 1917),
        45: (1183, 1959),
        46: (1158, 1974),
        47: (1055, 1909),
        48: (1035, 1870),
        49: (915, 1805),
        50: (782, 1738),
        51: (690, 1686),
        52: (586, 1569),
        53: (586, 1490),
        54: (499, 1364),
        55: (391, 1180),
        56: (384, 1144),
        57: (291, 876),
        58: (215, 862),
        59: (97, 793),
        60: (103, 770),
        61: (129, 770),
        62: (117, 731),
        63: (93, 707),
        64: (109, 683),
        65: (77, 655),
        66: (87, 612),
        67: (129, 565),
        68: (177, 535),
        69: (187, 578),
        70: (159, 598),
        71: (167, 636),
        72: (201, 618),
        73: (250, 638),
        74: (281, 688),
        75: (314, 678),
        76: (366, 568),
        77: (419, 497),
        78: (481, 469),
        79: (552, 442),
        80: (605, 393),
        81: (645, 345),
        82: (657, 296),
        83: (677, 302),
        84: (671, 267),
        85: (677, 247),
        86: (645, 215)
    }

    return get_posiciones_mapa(posiciones)

def get_posiciones_mapa(ancho_figma=1400, alto_figma=2200):
    posiciones_figma = get_posiciones()
    posiciones_mapa = {}

    for key, (x, y) in posiciones_figma.items():
        posiciones_mapa[key] = figma_a_networkx(x, y, ancho_figma, alto_figma)

    return posiciones_mapa

def figma_a_networkx(x_figma, y_figma, ancho_figma, alto_figma):
    x_min, x_max = -82, -68
    y_min, y_max = -19, 0

    x_norm = x_figma / ancho_figma
    y_norm = y_figma / alto_figma

    x_mapa = x_min + (x_max - x_min) * x_norm
    y_mapa = y_max - (y_max - y_min) * y_norm 

    return (x_mapa, y_mapa)